<!DOCTYPE html><!--[if lte IE 8]>
<html lang="en" class="lte-ie8">
<![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
<!--<![endif]--><head><meta charset="utf-8"><title>October 28, 2015</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/diary/css/global.css"><link rel="stylesheet" href="/diary/css/tomorrow.css"><link rel="stylesheet" href="/diary/css/diary.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-63818301-1', 'auto');
ga('send', 'pageview');</script></head><body><header class="header"><div class="index"><a href="/diary/">Index</a></div><h1>October 28, 2015</h1></header><div class="content"><div class="diary"><h1 id="-jquery-tips-everyone-should-know-1-"><a href="https://github.com/AllThingsSmitty/jquery-tips-everyone-should-know?utm_source=javascriptweekly&amp;utm_medium=email">jQuery Tips Everyone Should Know</a></h1>
<p><code>Frontend</code></p>
<hr>
<p>Back to Top Button</p>
<p>By using the animate and scrollTop methods in jQuery you don&#39;t need a plugin to create a simple scroll-to-top animation:</p>
<pre><code>// Back to top
$('a.top').click(function (e) {
  e.preventDefault();
  $(document.body).animate({scrollTop: 0}, 800);
});

<span class="hljs-comment">&lt;!-- Create an anchor tag --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"top"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>Back to top<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
</code></pre><p>Changing the scrollTop value changes where you wants the scrollbar to land. All you&#39;re really doing is animating the body of the document throughout the course of 800 milliseconds until it scrolls to the top of the document.</p>
<p>Preload Images</p>
<p>If your web page uses a lot of images that aren&#39;t visible initially (e.g., on hover) it makes sense to preload them:</p>
<pre><code>$.preloadImages = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) {
    $(<span class="hljs-string">'&lt;img&gt;'</span>).attr(<span class="hljs-string">'src'</span>, <span class="hljs-built_in">arguments</span>[i]);
  }
};

$.preloadImages(<span class="hljs-string">'img/hover-on.png'</span>, <span class="hljs-string">'img/hover-off.png'</span>);
Checking If Images Are Loaded
</code></pre><p>Sometimes you might need to check if your images have fully loaded in order to continue on with your scripts:</p>
<pre><code>$(<span class="hljs-string">'img'</span>).load(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'image load successful'</span>);
});
</code></pre><p>You can also check if one particular image has loaded by replacing the <img> tag with an ID or class.</p>
<p>Fix Broken Images Automatically</p>
<p>If you happen to find broken image links on your site replacing them one by one can be a pain. This simple piece of code can save a lot of headaches:</p>
<pre><code>$(<span class="hljs-string">'img'</span>).on(<span class="hljs-string">'error'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  $(<span class="hljs-keyword">this</span>).prop(<span class="hljs-string">'src'</span>, <span class="hljs-string">'img/broken.png'</span>);
});
</code></pre><p>Even if you don&#39;t have any broken links, adding this won&#39;t do any harm.</p>
<p>Toggle Classes on Hover</p>
<p>Let&#39;s say you want to change the visual of a clickable element on your page when a user hovers over it. You can add a class to your element when the user is hovering; when the user stops hovering removes the class:</p>
<pre><code>$(<span class="hljs-string">'.btn'</span>).hover(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  $(<span class="hljs-keyword">this</span>).addClass(<span class="hljs-string">'hover'</span>);
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  $(<span class="hljs-keyword">this</span>).removeClass(<span class="hljs-string">'hover'</span>);
});
</code></pre><p>You just need to add the necessary CSS. If you want an even simpler way use the toggleClass method:</p>
<pre><code>$(<span class="hljs-string">'.btn'</span>).hover(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  $(<span class="hljs-keyword">this</span>).toggleClass(<span class="hljs-string">'hover'</span>);
});
</code></pre><p>Note: CSS may be a faster solution in this case but it&#39;s still worthwhile to know this.</p>
<p>Disabling Input Fields</p>
<p>At times you may want the submit button of a form or one of its text inputs to be disabled until the user has performed a certain action (e.g., checking the &quot;I&#39;ve read the terms&quot; checkbox). Add the disabled attribute to your input so you can enable it when you want:</p>
<pre><code>$(<span class="hljs-string">'input</span>[<span class="hljs-keyword">type</span>=<span class="hljs-string">"submit"</span>]').prop(<span class="hljs-string">'disabled</span>', <span class="hljs-keyword">true</span>);
</code></pre><p>All you need to do is run the prop method again on the input, but set the value of disabled to false:</p>
<pre><code>$(<span class="hljs-string">'input</span>[<span class="hljs-keyword">type</span>=<span class="hljs-string">"submit"</span>]').prop(<span class="hljs-string">'disabled</span>', <span class="hljs-keyword">false</span>);
</code></pre><p>Stop the Loading of Links</p>
<p>Sometimes you don&#39;t want links to go to a certain web page nor reload the page; you might want them to do something else like trigger some other script. This will do the trick of preventing the default action:</p>
<pre><code>$(<span class="hljs-string">'a.no-link'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
  e.preventDefault();
});
</code></pre><p>Toggle Fade/Slide</p>
<p>Slideing and fading are something we use plenty in our animations with jQuery. You might just want to show an element when a user clicks something, which makes the fadeIn and slideDown methods perfect. But if you want that element to appear on the first click and then disappear on the second this will work just fine:</p>
<pre><code><span class="hljs-comment">// Fade</span>
$(<span class="hljs-string">'.btn'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  $(<span class="hljs-string">'.element'</span>).fadeToggle(<span class="hljs-string">'slow'</span>);
});

<span class="hljs-comment">// Toggle</span>
$(<span class="hljs-string">'.btn'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  $(<span class="hljs-string">'.element'</span>).slideToggle(<span class="hljs-string">'slow'</span>);
});
</code></pre><p>Simple Accordion</p>
<p>This is a simple method for a quick accordion:</p>
<pre><code><span class="hljs-comment">// Close all panels</span>
$(<span class="hljs-string">'#accordion'</span>).find(<span class="hljs-string">'.content'</span>).hide();

<span class="hljs-comment">// Accordion</span>
$(<span class="hljs-string">'#accordion'</span>).find(<span class="hljs-string">'.accordion-header'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> next = $(<span class="hljs-keyword">this</span>).next();
  next.slideToggle(<span class="hljs-string">'fast'</span>);
  $(<span class="hljs-string">'.content'</span>).not(next).slideUp(<span class="hljs-string">'fast'</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre><p>By adding this script all you really needs to do on your web page is the necessary HTML go get this working.</p>
<p>Make Two Divs the Same Height</p>
<p>Sometimes you&#39;ll want two divs to have the same height no matter what content they have in them:</p>
<pre><code><span class="hljs-variable">$(</span><span class="hljs-string">'.div'</span>).css(<span class="hljs-string">'min-height'</span>, <span class="hljs-variable">$(</span><span class="hljs-string">'.main-div'</span>).height());
</code></pre><p>This example sets the min-height which means that it can be bigger than the main div but never smaller. However, a more flexible method would be to loop over a set of elements and set the height to the height of the tallest element:</p>
<pre><code>var <span class="hljs-variable">$columns</span> = $(<span class="hljs-string">'.column'</span>);
var height = <span class="hljs-number">0</span>;
<span class="hljs-variable">$columns</span>.each(<span class="hljs-keyword">function</span> () {
  if ($(this).height() &gt; height) {
    height = $(this).height();
  }
});
<span class="hljs-variable">$columns</span>.height(height);
</code></pre><p>If you want all columns to have the same height:</p>
<pre><code>var <span class="hljs-variable">$rows</span> = $(<span class="hljs-string">'.same-height-columns'</span>);
<span class="hljs-variable">$rows</span>.each(<span class="hljs-keyword">function</span> () {
  $(this).find(<span class="hljs-string">'.column'</span>).height($(this).height());
});
</code></pre><p>Open External Links in New Tab/Window</p>
<p>Open external links in a new browser tab or window and ensure links on the same origin open in the same tab or window:</p>
<pre><code>$(<span class="hljs-string">'a[href^="http"]'</span>).attr(<span class="hljs-string">'target'</span>, <span class="hljs-string">'_blank'</span>);
$(<span class="hljs-string">'a[href^="//"]'</span>).attr(<span class="hljs-string">'target'</span>, <span class="hljs-string">'_blank'</span>);
$(<span class="hljs-string">'a[href^="'</span> + <span class="hljs-built_in">window</span>.location.origin + <span class="hljs-string">'"]'</span>).attr(<span class="hljs-string">'target'</span>, <span class="hljs-string">'_self'</span>);
</code></pre><p>Note: <code>window.location.origin</code> doesn&#39;t work in IE10. This fix takes care of the issue.</p>
<p>Find Element By Text</p>
<p>By using the <code>contains()</code> selector in jQuery you can find text in content of an element. If text doesn&#39;t exists, that element will be hidden:</p>
<pre><code><span class="hljs-keyword">var</span> search = $(<span class="hljs-string">'#search'</span>).val();
$(<span class="hljs-string">'div:not(:contains("'</span> + search + <span class="hljs-string">'"))'</span>).hide();
</code></pre><p>Trigger on Visibility Change</p>
<p>Trigger JavaScript when the user is no longer focusing on a tab, or refocuses on a tab:</p>
<pre><code>$(<span class="hljs-built_in">document</span>).on(<span class="hljs-string">'visibilitychange'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
  <span class="hljs-keyword">if</span> (e.target.visibilityState === <span class="hljs-string">"visible"</span>) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Tab is now in view!'</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.target.visibilityState === <span class="hljs-string">"hidden"</span>) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Tab is now hidden!'</span>);
  }
});
</code></pre></div></div><footer class="footer"><address class="author">Copyright &copy; <a rel="author" href="https://github.com/xygcxy" class="author-name">yungeng xu</a>-<a href="https://github.com/xygcxy/my-tech-diary" class="source-repo">Source</a></address><p>Generated by <a href="https://github.com/joyeecheung/diary" class="site-repo">Joyee Cheung&#39;s diary generator</a></p></footer></body></html>