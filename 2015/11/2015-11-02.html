<!DOCTYPE html><!--[if lte IE 8]>
<html lang="en" class="lte-ie8">
<![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
<!--<![endif]--><head><meta charset="utf-8"><title>November 2, 2015</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/diary/css/global.css"><link rel="stylesheet" href="/diary/css/tomorrow.css"><link rel="stylesheet" href="/diary/css/diary.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-63818301-1', 'auto');
ga('send', 'pageview');</script></head><body><header class="header"><div class="index"><a href="/diary/">Index</a></div><h1>November 2, 2015</h1></header><div class="content"><div class="diary"><h1 id="linux-">Linux 常用命令查询表</h1>
<p><code>系统</code></p>
<hr>
<p>ls 列出当前目录文件（不包括隐含文件） 
ls -a 列出当前目录文件（包括隐含文件） 
ls -l 列出当前目录下文件的详细信息 </p>
<p>cd .. 回当前目录的上一级目录 
cd - 回上一次所在的目录 
cd ~ 或 cd 回当前用户的宿主目录 
mkdir 目录名 创建一个目录 
rmdir 空目录名 删除一个空目录 
rm 文件名 文件名 删除一个文件或多个文件 
rm -rf 非空目录名 删除一个非空目录下的一切 </p>
<p>mv 路经/文件 /经/文件移动相对路经下的文件到绝对路经下 
mv 文件名 新名称 在当前目录下改名 
find 路经 -name “字符串” 查找路经所在范围内满足字符串匹配的文件和目录 </p>
<p>二、系统管理 </p>
<p>fdisk fdisk -l 查看系统分区信息 
fdisk fdisk /dev/sdb 为一块新的SCSI硬盘进行分区 
chown chown root /home 把/home的属主改成root用户 
chgrp chgrp root /home 把/home的属组改成root组 </p>
<p>Useradd 创建一个新的用户 
Groupadd 组名 创建一个新的组 
Passwd 用户名 为用户创建密码 
Passwd -d用户名 删除用户密码也能登陆 
Passwd -S用户名 查询账号密码 
Usermod -l 新用户名 老用户名 为用户改名 
Userdel–r 用户名 删除用户一切 </p>
<p>service [servicename] start/stop/restart 系统服务控制操作 
/etc/init.d/[servicename] start/stop/restart 系统服务控制操作 </p>
<p>uname -a 查看内核版本 
cat /etc/issue 查看ubuntu版本 
lsusb 查看usb设备 
sudo ethtool eth0 查看网卡状态 
cat /proc/cpuinfo 查看cpu信息 
lshw 查看当前硬件信息 
sudo fdisk -l 查看磁盘信息 
df -h 查看硬盘剩余空间 
free -m 查看当前的内存使用情况 
ps -A 查看当前有哪些进程 
kill 进程号(就是ps -A中的第一列的数字)或者 killall 进程名( 杀死一个进程) 
kill -9 进程号 强制杀死一个进程 </p>
<p>reboot Init 6 重启LINUX系统 
Halt Init 0 Shutdown –h now 关闭LINUX系统 </p>
<p>三、打包/解压 </p>
<p>tar -c 创建包 –x 释放包 -v 显示命令过程 –z 代表压缩包 
tar –cvf benet.tar /home/benet 把/home/benet目录打包 
tar –zcvf benet.tar.gz /mnt 把目录打包并压缩 
tar –zxvf benet.tar.gz 压缩包的文件解压恢复 
tar –jxvf benet.tar.bz2 解压缩 </p>
<p>四、make编译 </p>
<p>make 编译 
make install 安装编译好的源码包 </p>
<p>五、apt命令 </p>
<p>apt-cache search package 搜索包 
apt-cache show package 获取包的相关信息，如说明、大小、版本等 
sudo apt-get install package 安装包 
sudo apt-get install package - - reinstall 重新安装包 
sudo apt-get -f install 修复安装”-f = –fix-missing” 
sudo apt-get remove package 删除包 
sudo apt-get remove package - - purge 删除包，包括删除配置文件等 
sudo apt-get update 更新源 
sudo apt-get upgrade 更新已安装的包 
sudo apt-get dist-upgrade 升级系统 
sudo apt-get dselect-upgrade 使用 dselect 升级 
apt-cache depends package 了解使用依赖 
apt-cache rdepends package 是查看该包被哪些包依赖 
sudo apt-get build-dep package 安装相关的编译环境 
apt-get source package 下载该包的源代码 
sudo apt-get clean &amp;&amp; sudo apt-get autoclean 清理无用的包 
sudo apt-get check 检查是否有损坏的依赖 
sudo apt-get clean 清理所有软件缓存（即缓存在/var/cache/apt/archives目录里的deb包）</p>
<p>查看软件xxx安装内容 </p>
<pre><code><span class="hljs-id">#dpkg</span> -L xxx 
</code></pre><p>查找软件 </p>
<pre><code>#apt-<span class="hljs-operator"><span class="hljs-keyword">cache</span> <span class="hljs-keyword">search</span> 正则表达式 </span>
</code></pre><p>查找文件属于哪个包 </p>
<pre><code>#dpkg -S filename apt-<span class="hljs-keyword">file</span> <span class="hljs-keyword">search</span> filename 
</code></pre><p>查询软件xxx依赖哪些包 </p>
<pre><code><span class="hljs-id">#apt-cache</span> depends xxx 
</code></pre><p>查询软件xxx被哪些包依赖 </p>
<pre><code><span class="hljs-id">#apt-cache</span> rdepends xxx 
</code></pre><p>增加一个光盘源 </p>
<pre><code><span class="hljs-id">#sudo</span> apt-cdrom add 
</code></pre><p>系统升级 </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get update 
<span class="hljs-id">#sudo</span> apt-get upgrade 
<span class="hljs-id">#sudo</span> apt-get dist-upgrade 
</code></pre><p>清除所以删除包的残余配置文件 </p>
<pre><code>#dpkg -<span class="hljs-keyword">l</span> |grep ^rc|awk ‘{<span class="hljs-keyword">print</span> <span class="hljs-label">$2}</span>’ |tr [<span class="hljs-string">"\n"</span>] [" “]|sudo xargs dpkg -P - 
</code></pre><p>编译时缺少h文件的自动处理 </p>
<pre><code><span class="hljs-id">#sudo</span> <span class="hljs-attribute">auto</span>-apt run ./configure 
</code></pre><p>查看安装软件时下载包的临时存放目录 </p>
<pre><code><span class="hljs-variable">#ls</span> /<span class="hljs-built_in">var</span>/<span class="hljs-keyword">cache</span>/apt/archives 
</code></pre><p>备份当前系统安装的所有包的列表 </p>
<pre><code><span class="hljs-label">#dpkg</span> –<span class="hljs-preprocessor">get</span>-<span class="hljs-keyword">selections </span><span class="hljs-title">| grep -v deinstall &gt; ~/somefile </span>
</code></pre><p>从上面备份的安装包的列表文件恢复所有包 </p>
<pre><code><span class="hljs-variable">#dpkg</span> –<span class="hljs-built_in">set</span><span class="hljs-attribute">-selections</span> &lt; ~/somefile sudo dselect 
</code></pre><p>清理旧版本的软件缓存 </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get autoclean 
</code></pre><p>清理所有软件缓存 </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get clean 
</code></pre><p>删除系统不再使用的孤立软件 </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get autoremove 
</code></pre><p>查看包在服务器上面的地址 </p>
<pre><code>#apt-<span class="hljs-literal">get</span> -qq –<span class="hljs-built_in">print</span>-uris install ssh | cut -d\’ -f2 
</code></pre><p>系统 
查看内核 </p>
<pre><code><span class="hljs-id">#uname</span> -<span class="hljs-tag">a</span> 
</code></pre><p>查看Ubuntu版本 </p>
<pre><code><span class="hljs-id">#cat</span> /etc/issue 
</code></pre><p>查看内核加载的模块 </p>
<pre><code><span class="hljs-id">#lsmod</span> 
</code></pre><p>查看PCI设备 </p>
<pre><code><span class="hljs-id">#lspci</span> 
</code></pre><p>查看USB设备 </p>
<pre><code><span class="hljs-id">#lsusb</span> 
</code></pre><p>查看网卡状态 </p>
<pre><code><span class="hljs-id">#sudo</span> ethtool eth0 
</code></pre><p>查看CPU信息 </p>
<pre><code><span class="hljs-id">#cat</span> /proc/cpuinfo 
</code></pre><p>显示当前硬件信息 </p>
<pre><code><span class="hljs-id">#lshw</span> 
</code></pre><p>硬盘 
查看硬盘的分区 </p>
<pre><code><span class="hljs-id">#sudo</span> fdisk -l 
</code></pre><p>查看IDE硬盘信息 </p>
<pre><code><span class="hljs-id">#sudo</span> hdparm -<span class="hljs-tag">i</span> /dev/hda 
</code></pre><p>查看STAT硬盘信息 </p>
<pre><code><span class="hljs-comment">#sudo hdparm -I /dev/sda </span>
</code></pre><p>或 </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get install blktool 
<span class="hljs-id">#sudo</span> blktool /dev/sda id 
</code></pre><p>查看硬盘剩余空间 </p>
<pre><code><span class="hljs-id">#df</span> -h 
<span class="hljs-id">#df</span> -H 
</code></pre><p>查看目录占用空间 </p>
<pre><code><span class="hljs-id">#du</span> -hs 目录名 
</code></pre><p>优盘没法卸载 </p>
<pre><code><span class="hljs-id">#sync</span> fuser -km /media/usbdisk 
</code></pre><p>内存 
查看当前的内存使用情况 </p>
<pre><code><span class="hljs-id">#free</span> -m 
</code></pre><p>进程 
查看当前有哪些进程 </p>
<pre><code><span class="hljs-comment">#ps -A </span>
</code></pre><p>中止一个进程 </p>
<pre><code><span class="hljs-comment">#kill 进程号(就是ps -A中的第一列的数字) 或者 killall 进程名 </span>
</code></pre><p>强制中止一个进程(在上面进程中止不成功的时候使用) </p>
<pre><code><span class="hljs-preprocessor">#kill -<span class="hljs-number">9</span> 进程号 或者 killall -<span class="hljs-number">9</span> 进程名 </span>
</code></pre><p>图形方式中止一个程序 </p>
<pre><code><span class="hljs-id">#xkill</span> 出现骷髅标志的鼠标，点击需要中止的程序即可 
</code></pre><p>查看当前进程的实时状况 </p>
<pre><code><span class="hljs-id">#top</span> 
</code></pre><p>查看进程打开的文件 </p>
<pre><code><span class="hljs-id">#lsof</span> -<span class="hljs-tag">p</span> 
</code></pre><p>ADSL 配置 ADSL </p>
<pre><code><span class="hljs-id">#sudo</span> pppoeconf 
</code></pre><p>ADSL手工拨号 </p>
<pre><code><span class="hljs-id">#sudo</span> pon dsl-provider 
</code></pre><p>激活 ADSL </p>
<pre><code><span class="hljs-id">#sudo</span> /etc/ppp/pppoe_on_boot 
</code></pre><p>断开 ADSL </p>
<pre><code><span class="hljs-id">#sudo</span> poff 
</code></pre><p>查看拨号日志 </p>
<pre><code><span class="hljs-id">#sudo</span> plog 
</code></pre><p>如何设置动态域名 </p>
<pre><code><span class="hljs-preprocessor">#首先去申请一个动态域名 </span>
<span class="hljs-preprocessor">#然后修改 /etc/ppp/ip-up 增加拨号时更新域名指令 sudo vim /etc/ppp/ip-up </span>
<span class="hljs-preprocessor">#在最后增加如下行 w3m -no-cookie -dump </span>
</code></pre><p>网络 
根据IP查网卡地址 </p>
<pre><code><span class="hljs-id">#arping</span> IP地址 
</code></pre><p>查看当前IP地址 </p>
<pre><code><span class="hljs-preprocessor">#ifconfig eth0 |awk ‘/inet/ {split($<span class="hljs-number">2</span>,x,<span class="hljs-string">":"</span>);print x[<span class="hljs-number">2</span>]}’ </span>
</code></pre><p>查看当前外网的IP地址 </p>
<pre><code><span class="hljs-preprocessor">#w3m -no-cookie |grep-o‘[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}\.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}\.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}\.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}’ </span>
<span class="hljs-preprocessor">#w3m -no-cookie |grep-o’[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}\.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}\.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}\.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}’ </span>
<span class="hljs-preprocessor">#w3m -no-cookie -dump |grep -o’[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}\.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}\.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}\.[<span class="hljs-number">0</span>-<span class="hljs-number">9</span>]\{<span class="hljs-number">1</span>,<span class="hljs-number">3</span>\}’ </span>
</code></pre><p>查看当前监听80端口的程序 </p>
<pre><code><span class="hljs-id">#lsof</span> -<span class="hljs-tag">i</span> :<span class="hljs-number">80</span> 
</code></pre><p>查看当前网卡的物理地址 </p>
<pre><code><span class="hljs-preprocessor">#arp -a | awk ‘{print $<span class="hljs-number">4</span>}’ ifconfig eth0 | head -<span class="hljs-number">1</span> | awk ‘{print $<span class="hljs-number">5</span>}’ </span>
</code></pre><p>立即让网络支持nat </p>
<pre><code><span class="hljs-id">#sudo</span> echo <span class="hljs-number">1</span> &gt; /proc/sys/net/ipv4/ip_forward 
<span class="hljs-id">#sudo</span> iptables -t nat -I POSTROUTING -j MASQUERADE 
</code></pre><p>查看路由信息 </p>
<pre><code><span class="hljs-id">#netstat</span> -rn sudo route -n 
</code></pre><p>手工增加删除一条路由 </p>
<pre><code><span class="hljs-preprocessor">#sudo route add -net <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span> netmask <span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span> gw <span class="hljs-number">172.16</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> </span>
<span class="hljs-preprocessor">#sudo route del -net <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span> netmask <span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span> gw <span class="hljs-number">172.16</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> </span>
</code></pre><p>修改网卡MAC地址的方法 </p>
<pre><code><span class="hljs-id">#sudo</span> <span class="hljs-tag">ifconfig</span> <span class="hljs-tag">eth0</span> <span class="hljs-tag">down</span> 关闭网卡 
<span class="hljs-id">#sudo</span> <span class="hljs-tag">ifconfig</span> <span class="hljs-tag">eth0</span> <span class="hljs-tag">hw</span> <span class="hljs-tag">ether</span> 00<span class="hljs-pseudo">:AA</span><span class="hljs-pseudo">:BB</span><span class="hljs-pseudo">:CC</span><span class="hljs-pseudo">:DD</span><span class="hljs-pseudo">:EE</span> 然后改地址 
<span class="hljs-id">#sudo</span> <span class="hljs-tag">ifconfig</span> <span class="hljs-tag">eth0</span> <span class="hljs-tag">up</span> 然后启动网卡 
</code></pre><p>统计当前IP连接的个数 </p>
<pre><code>#netstat -na|grep ESTABLISHED|awk ‘{<span class="hljs-keyword">print</span> <span class="hljs-label">$5}</span>’|awk -F: ‘{<span class="hljs-keyword">print</span> <span class="hljs-label">$1}</span>’|<span class="hljs-keyword">sort</span>|uniq -c|<span class="hljs-keyword">sort</span> -r -<span class="hljs-keyword">n</span> 
#netstat -na|grep SYN|awk ‘{<span class="hljs-keyword">print</span> <span class="hljs-label">$5}</span>’|awk -F: ‘{<span class="hljs-keyword">print</span> <span class="hljs-label">$1}</span>’|<span class="hljs-keyword">sort</span>|uniq -c|<span class="hljs-keyword">sort</span> -r -<span class="hljs-keyword">n</span> 
</code></pre><p>统计当前20000个IP包中大于100个IP包的IP地址 </p>
<pre><code><span class="hljs-preprocessor">#tcpdump -tnn -c <span class="hljs-number">20000</span> -i eth0 | awk -F “.<span class="hljs-string">" ‘{print $1″."</span>$<span class="hljs-number">2</span>″.<span class="hljs-string">"$3″."</span>$<span class="hljs-number">4</span>}’ | sort | uniq -c | sort -nr | awk ‘ $<span class="hljs-number">1</span> &gt; <span class="hljs-number">100</span> ‘ </span>
</code></pre><p>屏蔽IPV6 </p>
<pre><code><span class="hljs-preprocessor">#echo “blacklist ipv6″ | sudo tee /etc/modprobe.d/blacklist-ipv6 </span>
</code></pre><p>服务 
添加一个服务 </p>
<pre><code><span class="hljs-id">#sudo</span> update-rc<span class="hljs-class">.d</span> 服务名 defaults <span class="hljs-number">99</span> 
</code></pre><p>删除一个服务 </p>
<pre><code><span class="hljs-id">#sudo</span> update-rc<span class="hljs-class">.d</span> 服务名 remove 
</code></pre><p>临时重启一个服务 </p>
<pre><code><span class="hljs-preprocessor">#/etc/init.d/服务名 restart </span>
</code></pre><p>临时关闭一个服务 </p>
<pre><code><span class="hljs-preprocessor">#/etc/init.d/服务名 stop </span>
</code></pre><p>临时启动一个服务 </p>
<pre><code><span class="hljs-preprocessor">#/etc/init.d/服务名 start </span>
</code></pre><p>设置 
配置默认Java使用哪个 </p>
<pre><code>#sudo <span class="hljs-operator"><span class="hljs-keyword">update</span>-alternatives –config <span class="hljs-keyword">java</span> </span>
</code></pre><p>修改用户资料 </p>
<pre><code><span class="hljs-id">#sudo</span> chfn userid 
</code></pre><p>给apt设置代理 </p>
<pre><code><span class="hljs-id">#export</span> 
</code></pre><p>修改系统登录信息 </p>
<pre><code><span class="hljs-id">#sudo</span> vim /etc/motd 
</code></pre><p>中文 
转换文件名由GBK为UTF8 </p>
<pre><code>#sudo apt-get <span class="hljs-operator"><span class="hljs-keyword">install</span> convmv convmv -r -<span class="hljs-keyword">f</span> cp936 -<span class="hljs-keyword">t</span> utf8 –notest –nosmart * </span>
</code></pre><p>批量转换src目录下的所有文件内容由GBK到UTF8 </p>
<pre><code>#find src -<span class="hljs-typedef"><span class="hljs-keyword">type</span> d -exec mkdir -p utf8/<span class="hljs-container">{}</span> \; find src -<span class="hljs-keyword">type</span> f -exec iconv -f <span class="hljs-type">GBK</span> -t <span class="hljs-type">UTF</span>-8 <span class="hljs-container">{}</span> -o utf8/<span class="hljs-container">{}</span> \; mv utf8/* src rm -fr utf8 </span>
</code></pre><p>转换文件内容由GBK到UTF8 </p>
<pre><code><span class="hljs-id">#iconv</span> -f gbk -t utf8 <span class="hljs-variable">$i</span> &gt; newfile 
</code></pre><p>转换 mp3 标签编码 </p>
<pre><code><span class="hljs-id">#sudo</span> <span class="hljs-tag">apt-get</span> <span class="hljs-tag">install</span> <span class="hljs-tag">python-mutagen</span> <span class="hljs-tag">find</span> . <span class="hljs-tag">-iname</span> “*<span class="hljs-class">.mp3</span>" <span class="hljs-tag">-execdir</span> <span class="hljs-tag">mid3iconv</span> <span class="hljs-tag">-e</span> <span class="hljs-tag">GBK</span> <span class="hljs-rules">{}</span> \;
</code></pre><p>控制台下显示中文 </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get install zhcon 使用时，输入zhcon即可 
</code></pre><p>文件 
快速查找某个文件 </p>
<pre><code><span class="hljs-id">#whereis</span> filename 
<span class="hljs-id">#find</span> 目录 -name 文件名 
</code></pre><p>查看文件类型 </p>
<pre><code><span class="hljs-id">#file</span> filename 
</code></pre><p>显示xxx文件倒数6行的内容 </p>
<pre><code><span class="hljs-preprocessor">#tail -n <span class="hljs-number">6</span> xxx </span>
</code></pre><p>让tail不停地读地最新的内容 </p>
<pre><code><span class="hljs-variable">#tail</span> <span class="hljs-attribute">-n</span> <span class="hljs-number">10</span> <span class="hljs-attribute">-f</span> /<span class="hljs-built_in">var</span>/<span class="hljs-keyword">log</span>/apache2/access<span class="hljs-built_in">.</span><span class="hljs-keyword">log</span> 
</code></pre><p>查看文件中间的第五行（含）到第10行（含）的内容 </p>
<pre><code><span class="hljs-variable">#sed</span> <span class="hljs-attribute">-n</span> ‘<span class="hljs-number">5</span>,<span class="hljs-number">10</span>p’ /<span class="hljs-built_in">var</span>/<span class="hljs-keyword">log</span>/apache2/access<span class="hljs-built_in">.</span><span class="hljs-keyword">log</span> 
</code></pre><p>查找包含xxx字符串的文件 </p>
<pre><code><span class="hljs-id">#grep</span> -l -r xxx . 
</code></pre><p>全盘搜索文件(桌面可视化) 
gnome-search-tool </p>
<p>查找关于xxx的命令 </p>
<pre><code><span class="hljs-id">#apropos</span> xxx man -k xxx 
</code></pre><p>通过ssh传输文件 </p>
<pre><code><span class="hljs-preprocessor">#scp -rp /path/filenameusername@remoteIP:/path </span>
<span class="hljs-preprocessor">#将本地文件拷贝到服务器上 </span>
<span class="hljs-preprocessor">#scp -rpusername@remoteIP:/path/filename/path </span>
<span class="hljs-preprocessor">#将远程文件从服务器下载到本地 </span>
</code></pre><p>查看某个文件被哪些应用程序读写 </p>
<pre><code><span class="hljs-id">#lsof</span> 文件名 
</code></pre><p>把所有文件的后辍由rm改为rmvb </p>
<pre><code>#<span class="hljs-keyword">rename</span> ’s/.rm<span class="hljs-variable">$/</span>.rmvb/’ * 
</code></pre><p>把所有文件名中的大写改为小写 </p>
<pre><code><span class="hljs-comment">#rename ‘tr/A-Z/a-z/’ * </span>
</code></pre><p>删除特殊文件名的文件，如文件名：–help.txt </p>
<pre><code><span class="hljs-id">#rm</span> — –help<span class="hljs-class">.txt</span> 或者 rm ./–help<span class="hljs-class">.txt</span> 
</code></pre><p>查看当前目录的子目录 </p>
<pre><code>#<span class="hljs-keyword">ls</span> -<span class="hljs-keyword">d</span> */. 或 echo */. 
</code></pre><p>将当前目录下最近30天访问过的文件移动到上级back目录 </p>
<pre><code>#find . -<span class="hljs-typedef"><span class="hljs-keyword">type</span> f -atime -30 -exec mv <span class="hljs-container">{}</span> ../back \; </span>
</code></pre><p>将当前目录下最近2小时到8小时之内的文件显示出来 </p>
<pre><code><span class="hljs-preprocessor">#find . -mmin +<span class="hljs-number">120</span> -mmin -<span class="hljs-number">480</span> -exec more {} \; </span>
</code></pre><p>删除修改时间在30天之前的所有文件 </p>
<pre><code><span class="hljs-preprocessor">#find . -type f -mtime +<span class="hljs-number">30</span> -mtime -<span class="hljs-number">3600</span> -exec rm {} \; </span>
</code></pre><p>查找guest用户的以avi或者rm结尾的文件并删除掉 </p>
<pre><code><span class="hljs-id">#find</span> . <span class="hljs-tag">-name</span> ‘*<span class="hljs-class">.avi</span>’ <span class="hljs-tag">-o</span> <span class="hljs-tag">-name</span> ‘*<span class="hljs-class">.rm</span>’ <span class="hljs-tag">-user</span> ‘<span class="hljs-tag">guest</span>’ <span class="hljs-tag">-exec</span> <span class="hljs-tag">rm</span> <span class="hljs-rules">{}</span> \; 
</code></pre><p>查找的不以java和xml结尾,并7天没有使用的文件删除掉 </p>
<pre><code><span class="hljs-id">#find</span> . ! <span class="hljs-tag">-name</span> *<span class="hljs-class">.java</span> ! <span class="hljs-tag">-name</span> ‘*<span class="hljs-class">.xml</span>’ <span class="hljs-tag">-atime</span> +7 <span class="hljs-tag">-exec</span> <span class="hljs-tag">rm</span> <span class="hljs-rules">{}</span> \; 
</code></pre><p>统计当前文件个数 </p>
<pre><code><span class="hljs-preprocessor">#ls /usr/bin|wc -w </span>
</code></pre><p>统计当前目录个数 </p>
<pre><code>#<span class="hljs-keyword">ls</span> -<span class="hljs-keyword">l</span> /usr/bin|grep ^<span class="hljs-keyword">d</span>|wc -<span class="hljs-keyword">l</span> 
</code></pre><p>显示当前目录下2006-01-01的文件名 </p>
<pre><code><span class="hljs-preprocessor">#ls -l |grep <span class="hljs-number">2006</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span> |awk ‘{print $<span class="hljs-number">8</span>}’ </span>
</code></pre><p>FTP 
上传下载文件工具-filezilla </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get install filezilla 
</code></pre><p>filezilla无法列出中文目录？ 
站点-&gt;字符集-&gt;自定义-&gt;输入：GBK </p>
<p>本地中文界面 
1）下载filezilla中文包到本地目录，如~/ 
2） #unrar x Filezilla3_zhCN.rar 
3) 如果你没有unrar的话，请先安装rar和unrar </p>
<pre><code>#sudo apt-get <span class="hljs-operator"><span class="hljs-keyword">install</span> rar unrar 
#sudo <span class="hljs-keyword">ln</span> -<span class="hljs-keyword">f</span> /usr/<span class="hljs-keyword">bin</span>/rar /usr/<span class="hljs-keyword">bin</span>/unrar </span>
</code></pre><p>4）先备份原来的语言包,再安装；实际就是拷贝一个语言包。 </p>
<pre><code><span class="hljs-id">#sudo</span> cp /usr/share/locale/zh_CN/filezilla<span class="hljs-class">.mo</span> /usr/share/locale/zh_CN/filezilla<span class="hljs-class">.mo</span><span class="hljs-class">.bak</span> 
<span class="hljs-id">#sudo</span> cp ~/locale/zh_CN/filezilla<span class="hljs-class">.mo</span> /usr/share/locale/zh_CN/filezilla<span class="hljs-class">.mo</span> 
</code></pre><p>5）重启filezilla,即可！ </p>
<p>解压缩 
解压缩 xxx.tar.gz </p>
<pre><code><span class="hljs-id">#tar</span> -zxvf xxx<span class="hljs-class">.tar</span><span class="hljs-class">.gz</span> 
</code></pre><p>解压缩 xxx.tar.bz2 </p>
<pre><code><span class="hljs-id">#tar</span> -jxvf xxx<span class="hljs-class">.tar</span><span class="hljs-class">.bz2</span> 
</code></pre><p>压缩aaa bbb目录为xxx.tar.gz </p>
<pre><code><span class="hljs-id">#tar</span> -zcvf xxx<span class="hljs-class">.tar</span><span class="hljs-class">.gz</span> aaa bbb 
</code></pre><p>压缩aaa bbb目录为xxx.tar.bz2 </p>
<pre><code><span class="hljs-id">#tar</span> -jcvf xxx<span class="hljs-class">.tar</span><span class="hljs-class">.bz2</span> aaa bbb 
</code></pre><p>解压缩 RAR 文件 
1) 先安装 </p>
<pre><code>#sudo apt-get <span class="hljs-operator"><span class="hljs-keyword">install</span> rar unrar 
#sudo <span class="hljs-keyword">ln</span> -<span class="hljs-keyword">f</span> /usr/<span class="hljs-keyword">bin</span>/rar /usr/<span class="hljs-keyword">bin</span>/unrar </span>
</code></pre><p>2) 解压 </p>
<pre><code><span class="hljs-id">#unrar</span> x aaaa<span class="hljs-class">.rar</span> 
</code></pre><p>Nautilus 
显示隐藏文件 
Ctrl+h </p>
<p>显示地址栏 
Ctrl+l </p>
<p>特殊 URI 地址 </p>
<ul>
<li>computer:/// - 全部挂载的设备和网络 </li>
<li>network:/// - 浏览可用的网络 </li>
<li>burn:/// - 一个刻录 CDs/DVDs 的数据虚拟目录 </li>
<li>smb:/// - 可用的 windows/samba 网络资源 </li>
<li>x-nautilus-desktop:/// - 桌面项目和图标 
*file:///- 本地文件 </li>
<li>trash:/// - 本地回收站目录 </li>
<li>ftp:// - FTP 文件夹 </li>
<li>ssh:// - SSH 文件夹 </li>
<li>fonts:/// - 字体文件夹，可将字体文件拖到此处以完成安装 </li>
<li>themes:/// - 系统主题文件夹 </li>
</ul>
<p>查看已安装字体 
在nautilus的地址栏里输入&quot;fonts:///“，就可以查看本机所有的fonts </p>
<p>程序 
详细显示程序的运行信息 </p>
<pre><code><span class="hljs-id">#strace</span> -f -F -o outfile 
</code></pre><p>日期和时间 </p>
<p>设置日期 </p>
<pre><code><span class="hljs-id">#date</span> -s mm/dd/yy 
</code></pre><p>设置时间 </p>
<pre><code><span class="hljs-id">#date</span> <span class="hljs-tag">-s</span> <span class="hljs-tag">HH</span><span class="hljs-pseudo">:MM</span> 
</code></pre><p>将时间写入CMOS </p>
<pre><code><span class="hljs-id">#hwclock</span> –systohc 
</code></pre><p>读取CMOS时间 </p>
<pre><code><span class="hljs-id">#hwclock</span> –hctosys 
</code></pre><p>从服务器上同步时间 </p>
<pre><code><span class="hljs-id">#sudo</span> ntpdate <span class="hljs-tag">time</span><span class="hljs-class">.nist</span><span class="hljs-class">.gov</span> 
<span class="hljs-id">#sudo</span> ntpdate 
</code></pre><p>控制台 </p>
<p>不同控制台间切换 
Ctrl + ALT + ← Ctrl + ALT + → </p>
<p>指定控制台切换 
Ctrl + ALT + Fn(n:1~7) </p>
<p>控制台下滚屏 
SHIFT + pageUp/pageDown </p>
<p>控制台抓图 </p>
<pre><code><span class="hljs-id">#setterm</span> -dump <span class="hljs-function"><span class="hljs-title">n</span><span class="hljs-params">(n:<span class="hljs-number">1</span>~<span class="hljs-number">7</span>)</span></span> 
</code></pre><p>数据库 
mysql的数据库存放在地方 </p>
<pre><code><span class="hljs-preprocessor">#/var/lib/mysql </span>
</code></pre><p>从mysql中导出和导入数据 </p>
<pre><code><span class="hljs-id">#mysqldump</span> 数据库名 &gt; 文件名    #导出数据库 
<span class="hljs-id">#mysqladmin</span> create 数据库名     #建立数据库 
<span class="hljs-id">#mysql</span> 数据库名 &lt; 文件名    #导入数据库 
</code></pre><p>忘了mysql的root口令怎么办 </p>
<pre><code><span class="hljs-preprocessor">#sudo /etc/init.d/mysql stop </span>
<span class="hljs-preprocessor">#sudo mysqld_safe –skip-grant-tables </span>
<span class="hljs-preprocessor">#sudo mysqladmin -u user password ‘newpassword" </span>
<span class="hljs-preprocessor">#sudo mysqladmin flush-privileges </span>
</code></pre><p>修改mysql的root口令 </p>
<pre><code><span class="hljs-id">#sudo</span> mysqladmin -uroot -<span class="hljs-tag">p</span> password ‘你的新密码’ 
</code></pre><p>其它 
下载网站文档 </p>
<pre><code><span class="hljs-id">#wget</span> -r -<span class="hljs-tag">p</span> -np -k
</code></pre><p>· r：在本机建立服务器端目录结构； 
· -p: 下载显示HTML文件的所有图片； 
· -np：只下载目标站点指定目录及其子目录的内容； 
· -k: 转换非相对链接为相对链接。 </p>
<p>如何删除Totem电影播放机的播放历史记录 </p>
<pre><code><span class="hljs-id">#rm</span> ~/<span class="hljs-class">.recently-used</span> 
</code></pre><p>如何更换gnome程序的快捷键 
点击菜单，鼠标停留在某条菜单上，键盘输入任意你所需要的键，可以是组合键，会立即生效； 如果要清除该快捷键，请使用backspace </p>
<p>vim 如何显示彩色字符 </p>
<pre><code>#sudo cp <span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/vim/</span>vimcurrent<span class="hljs-regexp">/vimrc_example.vim /u</span>sr<span class="hljs-regexp">/share/</span>vim<span class="hljs-regexp">/vimrc </span>
</code></pre><p>如何在命令行删除在会话设置的启动程序 </p>
<pre><code>#<span class="hljs-keyword">cd</span> ~nfig/autostart <span class="hljs-keyword">rm</span> 需要删除启动程序 
</code></pre><p>如何提高wine的反应速度 </p>
<pre><code>#sudo sed -ie ‘<span class="hljs-regexp">/GBK/</span>,<span class="hljs-regexp">/^}/</span>d’ <span class="hljs-regexp">/usr/</span>share<span class="hljs-regexp">/X11/</span>locale<span class="hljs-regexp">/zh_CN.UTF-8/</span>XLC_LOCALE 

#chgrp 
</code></pre><p>[语法]: chgrp [-R] 文件组 文件… 
<a href="改变文件的存取模式，存取模式可表示为数字或符号串，例如：">说明</a>： 文件的GID表示文件的文件组，文件组可用数字表示， 也可用一个有效的组名表示，此命令改变一个文件的GID，可参看chown。 
-R 递归地改变所有子目录下所有文件的存取模式 
[例子]: 
＃chgrp group file 将文件 file 的文件组改为 group </p>
<pre><code><span class="hljs-id">#chmod</span> 
</code></pre><p>[语法]: chmod [-R] 模式 文件… 
或 chmod [ugoa] {+|-|=} [rwxst] 文件… </p>
<p>＃chmod nnnn file ， n为0-7的数字，意义如下: 
4000 运行时可改变UID 
2000 运行时可改变GID 
1000 置粘着位 
0400 文件主可读 
0200 文件主可写 
0100 文件主可执行 
0040 同组用户可读 
0020 同组用户可写 
0010 同组用户可执行 
0004 其他用户可读 
0002 其他用户可写 
0001 其他用户可执行 
nnnn 就是上列数字相加得到的，例如 chmod 0777 file 是指将文件 file 存取权限置为所有用户可读可写可执行。 
-R 递归地改变所有子目录下所有文件的存取模式 
u 文件主 
g 同组用户 
o 其他用户 
a 所有用户 </p>
<ul>
<li>增加后列权限 </li>
<li><p>取消后列权限 
= 置成后列权限 
r 可读 
w 可写 
x 可执行 
s 运行时可置UID 
t 运行时可置GID 
[例子]: 
＃chmod 0666 file1 file2 将文件 file1 及 file2 置为所有用户可读可写 
＃chmod u+x file 对文件 file 增加文件主可执行权限 
＃chmod o-rwx 对文件file 取消其他用户的所有权限 </p>
<p>  #chown 
[语法]: chown [-R] 文件主 文件… 
<a href="改变文件的存取模式，存取模式可表示为数字或符号串，例如：">说明</a>: 文件的UID表示文件的文件主，文件主可用数字表示， 也可用一个有效的用户名表示，此命令改变一个文件的UID，仅当此文件的文件主或超级用户可使用。 
-R 递归地改变所有子目录下所有文件的存取模式 
[例子]: 
  #chown mary file 将文件 file 的文件主改为 mary 
  #chown 150 file 将文件 file 的UID改为150 </p>
</li>
</ul>
<p>Ubuntu命令行下修改网络配置 
以eth0为例 </p>
<ol>
<li><p>以DHCP方式配置网卡 
编辑文件/etc/network/interfaces: 
 #sudo vi /etc/network/interfaces 
并用下面的行来替换有关eth0的行: </p>
<h1 id="the-primary-network-interface-use-dhcp-to-find-our-address">The primary network interface - use DHCP to find our address</h1>
<p>auto eth0 
iface eth0 inet dhcp 
用下面的命令使网络设置生效: 
 #sudo /etc/init.d/networking restart 
当然,也可以在命令行下直接输入下面的命令来获取地址 
 #sudo dhclient eth0 </p>
</li>
<li><p>为网卡配置静态IP地址 
编辑文件/etc/network/interfaces: 
 #sudo vi /etc/network/interfaces 
并用下面的行来替换有关eth0的行: </p>
<h1 id="the-primary-network-interface">The primary network interface</h1>
<p>auto eth0 
iface eth0 inet static 
address 192.168.3.90 
gateway 192.168.3.1 
netmask 255.255.255.0 
network 192.168.3.0 
broadcast 192.168.3.255 
将上面的ip地址等信息换成你自己就可以了. </p>
</li>
</ol>
<p>用下面的命令使网络设置生效: </p>
<pre><code><span class="hljs-id">#sudo</span> /etc/init.d/networking restart 
</code></pre><ol>
<li><p>设定第二个IP地址(虚拟IP地址) 
编辑文件/etc/network/interfaces: 
 #sudo vi /etc/network/interfaces 
在该文件中添加如下的行: 
auto eth0:1 
iface eth0:1 inet static 
address 192.168.1.60 
netmask 255.255.255.0 
network x.x.x.x 
broadcast x.x.x.x 
gateway x.x.x.x 
根据你的情况填上所有诸如address,netmask,network,broadcast和gateways等信息. 
用下面的命令使网络设置生效: </p>
<pre><code> <span class="hljs-id">#sudo</span> /etc/init.d/networking restart 
</code></pre></li>
<li><p>设置主机名称(hostname) 
使用下面的命令来查看当前主机的主机名称: </p>
<pre><code> <span class="hljs-id">#sudo</span> /bin/hostname 
</code></pre><p>使用下面的命令来设置当前主机的主机名称: </p>
<pre><code> <span class="hljs-id">#sudo</span> /bin/hostname newname 
</code></pre><p>系统启动时,它会从/etc/hostname来读取主机的名称. </p>
</li>
<li><p>配置DNS 
首先,你可以在/etc/hosts中加入一些主机名称和这些主机名称对应的IP地址,这是简单使用本机的静态查询. 
要访问DNS 服务器来进行查询,需要设置/etc/nf文件. 
假设DNS服务器的IP地址是192.168.3.2, 那么/etc/nf文件的内容应为: 
search 
nameserver 192.168.3.2 </p>
</li>
</ol>
<p>安装AMP服务 
如果采用Ubuntu Server CD开始安装时，可以选择安装，这系统会自动装上apache2,php5和mysql5。下面主要说明一下如果不是安装的Ubuntu server时的安装方法。 
用命令在Ubuntu下架设Lamp其实很简单，用一条命令就完成。在终端输入以下命令： </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get install apache2 mysql-server php5 php5-mysql php5-gd     <span class="hljs-id">#phpmyadmin</span> 
</code></pre><p>装好后，mysql管理员是root，无密码，通//localhost/phpmyadmin就可以访问mysql了 </p>
<p>修改 MySql 密码 
终端下输入： </p>
<pre><code><span class="hljs-variable">#mysql</span> <span class="hljs-attribute">-u</span> root 
<span class="hljs-variable">#mysql</span>&gt; GRANT <span class="hljs-literal">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> *<span class="hljs-built_in">.</span>* <span class="hljs-keyword">TO</span> root@localhost IDENTIFIED <span class="hljs-keyword">BY</span> “<span class="hljs-number">123456</span>″; 
</code></pre><p>’123456‘是root的密码，可以自由设置，但最好是设个安全点的。 </p>
<pre><code><span class="hljs-id">#mysql</span>&gt; <span class="hljs-tag">quit</span>; 退出<span class="hljs-attribute">mysql </span>
</code></pre><p>apache2的操作命令 
启动：  #sudo /etc/init.d/apache2 start 
重启：  #sudo /etc/init.d/apache2 restart 
关闭：  #sudo /etc/init.d/apache2 stop 
apache2的默认主目录：/var/www/ </p>
<p>Ubuntu 7.10 更换软件源、更新系统 
网通建议用台湾的源，电信就用cn99 
在终端输入:     #sudo gedit /etc/apt/sources.list </p>
<pre><code><span class="hljs-preprocessor"># 更新服务器（江苏省常州市电信，推荐电信用户使用。） </span>
</code></pre><p>deb rse 
deb e multiverse 
deb multiverse </p>
<pre><code><span class="hljs-preprocessor"># 更新服务器 (上海市 电信): </span>
</code></pre><p>deb rse 
deb-src rse 
deb multiverse </p>
<pre><code><span class="hljs-preprocessor"># 更新服务器（浙江省杭州市电信，亚洲地区官方更新服务器） </span>
</code></pre><p>deb se 
deb multiverse 
deb multiverse </p>
<pre><code><span class="hljs-preprocessor"># 更新服务器（福建省福州市 电信） </span>
</code></pre><p>deb rse 
deb-src rse 
deb multiverse </p>
<pre><code><span class="hljs-preprocessor">#清华大学 更新服务器（教育网，推荐校园网和网通用户使用） </span>
</code></pre><p>deb rse 
deb cted universe 
deb ted universe 
将里面乱七八糟的东西删了，将你复制的源列表粘贴到里面，保存退出。 
在终端输入 </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get update 
<span class="hljs-id">#sudu</span> apt-get upgrade 
</code></pre><p>这样便更新以及升级了系统。 </p>
<p>桌面汉化： 
System&gt;Language Support&gt;Chinese选项勾打上。 </p>
<p>安装解码器、flashplayer、java虚拟机、微软字体 
这是ubuntu推出的一个新软件包，将一次性将上面几个东东自动装好 
在终端输入 </p>
<pre><code>#sudo apt-get <span class="hljs-operator"><span class="hljs-keyword">install</span> ubuntu-<span class="hljs-keyword">restricted</span>-extras </span>
</code></pre><p>FireFox 中安装 FlashPlayer 插件 
先下载插件: install_flash_player_9_linux.tar.gz </p>
<pre><code><span class="hljs-id">#tar</span> -zxf install_flash_player_9_linux<span class="hljs-class">.tar</span><span class="hljs-class">.gz</span> 
#./flashplayer-installer 
</code></pre><p>回答(y/n/q)? n/q </p>
<pre><code><span class="hljs-id">#sudo</span> cp libflashplayer<span class="hljs-class">.so</span> /usr/lib/firefox/plugins 
</code></pre><p>启动 firefox 即可！ </p>
<p>安装媒体播放器 
安装的是mplayer 
终端输入：  #sudo apt-get install mplayer mozilla-mplayer totem-xine libxine-extracodecs </p>
<p>另外需要一个w32codecs文件，是用来支持那些私有媒体格式的解码器，源里已经没有w32codecs了，我们可以从这里下载那个后缀为.deb的安装 </p>
<p>mplayer调试(视频、字幕) 
启动mplayer,右键－&gt;Preferences－&gt;Video 
Available drivers选择xv 
然后进入Font标签 Font里选择一个中文字体，Encoding里设置为Simplified Chinese charset (CP936) </p>
<p>安装下载工具（多线程下载、BT下载、电驴） 
还是终端输入：  #sudo apt-get install d4x amule azureus 
即可。 
或者把 beryl-manager添加到启动项内 </p>
<p>字体更换 
我推荐大家使用文泉驿字体，在 </p>
<p>下载deb包安装 
在“系统“－&gt;&quot;首选项“－&gt;&quot;字体“中调整字体 </p>
<p>apt下载的deb包清理 
在使用完apt后，系统下载的deb包会留存在硬盘里，我们可以把它们删除，释放硬盘空间。 
终端输入：  #sudo apt-get clean </p>
<p>安装rar压缩、解压工具 
终端输入：  #sudo apt-get install rar unrar </p>
<p>启用root（最高权限）帐户 
终端输入：  #sudo passwd root 
输入你希望的root用户的密码 </p>
<p>安装QQ 
终端输入：  #sudo apt-get install eva 
便可安装eva了，如果你是使用scim(选择中文语言支持的自动安装的就是scim)，为了可以在eva里面输入文字，要在终端输入：sudo apt-get install scim-qtimm 
系统会安装支持QT的scim插件，这样你就可以使用eva聊qq了。 </p>
<p>显卡驱动安装 
进入“系统&quot;－&gt;“系统管理&quot;－&gt;“受限驱动管理器&quot; 
找到你的显卡，把那个框点成对号，会提示你安装显卡驱动，然后按照提示一步一步安装完毕，重启即可。 </p>
<p>beryl的安装 
你的系统在安装完毕之后就已经有了一个内置的桌面效果软件（能实现简单的桌面特效，包括3D立方体），使用方法是（必须将显卡驱动装好）进入“系统&quot;“首选项&quot;“桌面效果&quot;，点击“启用桌面效果&quot;，如果你需要使用3D立方体桌面，那么选中“立方体上的工作区&quot;即可。 
如果你对这个简单的桌面特效工具不太满意，想追求更华丽的桌面，那么安装beryl仍然是个很好的选择。如今安装beryl不会像以前一样麻烦了，feisty的源里已经有了beryl的软件包，我们只需要在终端里输入： </p>
<pre><code><span class="hljs-label">#sudo</span> apt-<span class="hljs-preprocessor">get</span> install <span class="hljs-keyword">beryl-core </span><span class="hljs-keyword">beryl-plugins </span><span class="hljs-keyword">beryl-plugins-data </span>emerald <span class="hljs-keyword">beryl-settings </span><span class="hljs-keyword">beryl-manager </span><span class="hljs-keyword">beryl </span><span class="hljs-keyword">beryl-dev </span>emerald-themes 
</code></pre><p>安装完毕即可了。 
启动方法：“应用程序&quot;－&gt;&quot;系统工具&quot;－&gt;&quot;Beryl Manager&quot; 
或者直接在终端输入：    #beryl-manager </p>
<p>如何设定/改变/启用 root 使用者的密码? </p>
<pre><code><span class="hljs-id">#sudo</span> passwd root 
</code></pre><p>为了启用 root 帐号 (也就是 设置一个口令) 使用: </p>
<pre><code><span class="hljs-id">#sudo</span> passwd root 
</code></pre><p>当你使用完毕后屏蔽 root 帐号 使用: </p>
<pre><code><span class="hljs-id">#sudo</span> passwd -l root 
</code></pre><p>这个将锁住 root 帐号. </p>
<p>如何在终端机模式下切换到 root 身份? </p>
<pre><code><span class="hljs-id">#sudo</span> -s -H 
</code></pre><p>Password: &lt;在这注明您的密码&gt; </p>
<p>安装VNC server 
第一步, 获取安装文件 </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get install vnc4server 
</code></pre><p>第二步, 修改VNC Password, 6-8位 </p>
<pre><code><span class="hljs-id">#vncpasswd</span> 
</code></pre><p>Password: <strong>**</strong> 
Verify:<strong>*</strong> 
第三步, 修改配置 
系统-&gt;首选项-&gt;远程桌面 
选择-&gt;请求用户输入此密码-&gt;输入至少6位密码 
第四步, 启动VNC server </p>
<pre><code><span class="hljs-id">#vncserver</span> 
</code></pre><p>第五步，通过客户端连接 </p>
<pre><code><span class="hljs-preprocessor">#vncviewer <span class="hljs-number">192.168</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> </span>
</code></pre><p>安装MS字体 </p>
<pre><code><span class="hljs-id">#sudo</span> apt-get install msttcorefonts 
</code></pre><p>vim配置 
1) 首先安装 vim 完整版本 </p>
<pre><code>#sudo apt-get <span class="hljs-operator"><span class="hljs-keyword">install</span> vim-<span class="hljs-keyword">full</span> </span>
</code></pre><p>2) vim中文在线帮助 
a. 先下载文档 vimcdoc-1.5.0.tar.gz 
b. 解压, 执行./vimcdoc.sh, vi里面, 执行:help, 就都是中文的了. </p>
<p>3) 启用本地配置 VIM version 7.1 (说明文档) </p>
<pre><code><span class="hljs-id">#cp</span> etc/vim/vimrc ~/<span class="hljs-class">.vimrc</span> 
<span class="hljs-id">#vim</span> ~/<span class="hljs-class">.vimrc</span> 
</code></pre><p>&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; 一般设定 
&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; 设定默认解码 
set fenc=utf-8 
set fencs=utf-8,usc-bom,euc-jp,gb18030,gbk,gb2312,cp936 
&quot; 不要使用vi的键盘模式，而是vim自己的 
set nocompatible </p>
<p>&quot; history文件中需要记录的行数 
set history=100 </p>
<p>&quot; 在处理未保存或只读文件的时候，弹出确认 
set confirm </p>
<p>&quot; 与windows共享剪贴板 
set clipboard+=unnamed </p>
<p>&quot; 侦测文件类型 
filetype on </p>
<p>&quot; 载入文件类型插件 
filetype plugin on </p>
<p>&quot; 为特定文件类型载入相关缩进文件 
filetype indent on </p>
<p>&quot; 保存全局变量 
set viminfo+=! </p>
<p>&quot; 带有如下符号的单词不要被换行分割 
set iskeyword+=_,$,@,%, #,- </p>
<p>&quot; 语法高亮 
syntax on </p>
<p>&quot; 高亮字符，让其不受100列限制 
:highlight OverLength ctermbg=red ctermfg=white guibg=red guifg=white 
:match OverLength ‘\%101v.*’ </p>
<p>&quot; 状态行颜色 
highlight StatusLine guifg=SlateBlue guibg=Yellow 
highlight StatusLineNC guifg=Gray guibg=White </p>
<p>“&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; 文件设置 
“&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; 不要备份文件（根据自己需要取舍） 
set nobackup </p>
<p>&quot; 不要生成swap文件，当buffer被丢弃的时候隐藏它 
setlocal noswapfile 
set bufhidden=hide </p>
<p>&quot; 字符间插入的像素行数目 
set linespace=0 </p>
<p>&quot; 增强模式中的命令行自动完成操作 
set wildmenu </p>
<p>&quot; 在状态行上显示光标所在位置的行号和列号 
set ruler 
set rulerformat=%20(%2*%&lt;%f%=\ %m%r\ %3l\ %c\ %p%%%) </p>
<p>&quot; 命令行（在状态行下）的高度，默认为1，这里是2 
set cmdheight=2 </p>
<p>&quot; 使回格键（backspace）正常处理indent, eol, start等 
set backspace=2 </p>
<p>&quot; 允许backspace和光标键跨越行边界 
set whichwrap+=&lt;,&gt;,h,l </p>
<p>&quot; 可以在buffer的任何地方使用鼠标（类似office中在工作区双击鼠标定位） 
set mouse=a 
set selection=exclusive 
set selectmode=mouse,key </p>
<p>&quot; 启动的时候不显示那个援助索马里儿童的提示 
set shortmess=atI </p>
<p>&quot; 通过使用: commands命令，告诉我们文件的哪一行被改变过 
set report=0 </p>
<p>&quot; 不让vim发出讨厌的滴滴声 
set noerrorbells </p>
<p>&quot; 在被分割的窗口间显示空白，便于阅读 
set fillchars=vert:\ ,stl:\ ,stlnc:\ </p>
<p>“&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; 搜索和匹配 
“&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; 高亮显示匹配的括号 
set showmatch </p>
<p>&quot; 匹配括号高亮的时间（单位是十分之一秒） 
set matchtime=5 </p>
<p>&quot; 在搜索的时候忽略大小写 
set ignorecase </p>
<p>&quot; 不要高亮被搜索的句子（phrases） 
set nohlsearch </p>
<p>&quot; 在搜索时，输入的词句的逐字符高亮（类似firefox的搜索） 
set incsearch </p>
<p>&quot; 输入:set list命令是应该显示些啥？ 
set listchars=tab:|\ ,trail:.,extends:&gt;,precedes:&lt;,eol:$ </p>
<p>&quot; 光标移动到buffer的顶部和底部时保持3行距离 
set scrolloff=3 </p>
<p>&quot; 不要闪烁 
set novisualbell </p>
<p>&quot; 我的状态行显示的内容（包括文件类型和解码） 
set statusline=%F%m%r%h%w\ [FORMAT=%{&amp;ff}]\ [TYPE=%Y]\ [POS=%l,%v][%p%%]\ %{strftime(\&quot;%d/%m/%y\ -\ %H:%M\&quot;)} </p>
<p>&quot; 总是显示状态行 
set laststatus=2 </p>
<p>“&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; 文本格式和排版 
“&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; 自动格式化 
set formatoptions=tcrqn </p>
<p>&quot; 继承前一行的缩进方式，特别适用于多行注释 
set autoindent </p>
<p>&quot; 为C程序提供自动缩进 
set smartindent </p>
<p>&quot; 使用C样式的缩进 
set cindent </p>
<p>&quot; 制表符为4 
set tabstop=4 </p>
<p>&quot; 统一缩进为4 
set softtabstop=4 
set shiftwidth=4 </p>
<p>&quot; 不要用空格代替制表符 
set noexpandtab </p>
<p>&quot; 不要换行 
set nowrap </p>
<p>&quot; 在行和段开始处使用制表符 
set smarttab </p>
<p>“&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; CTags的设定 
“&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; 按照名称排序 
let Tlist_Sort_Type = “name&quot; </p>
<p>&quot; 在右侧显示窗口 
let Tlist_Use_Right_Window = 1 </p>
<p>&quot; 压缩方式 
let Tlist_Compart_Format = 1 </p>
<p>&quot; 如果只有一个buffer，kill窗口也kill掉buffer 
let Tlist_Exist_OnlyWindow = 1 </p>
<p>&quot; 不要关闭其他文件的tags 
let Tlist_File_Fold_Auto_Close = 0 </p>
<p>&quot; 不要显示折叠树 
let Tlist_Enable_Fold_Column = 0 </p>
<p>“&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; Autocommands 
“&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot; 
&quot; 只在下列文件类型被侦测到的时候显示行号，普通文本文件不显示 </p>
<p>if has(&quot;autocmd&quot;) 
autocmd FileType xml,html,c,cs,java,perl,shell,bash,cpp,python,vim,php,ruby set number 
autocmd FileType xml,html vmap</p>
</div></div><footer class="footer"><address class="author">Copyright &copy; <a rel="author" href="https://github.com/xygcxy" class="author-name">yungeng xu</a>-<a href="https://github.com/xygcxy/my-tech-diary" class="source-repo">Source</a></address><p>Generated by <a href="https://github.com/joyeecheung/diary" class="site-repo">Joyee Cheung&#39;s diary generator</a></p></footer></body></html>