{"version":3,"sources":["C:\\joyee\\study\\diary\\src\\js\\index.js","C:\\joyee\\study\\diary\\src\\js\\util.js"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,8BAA6B,IAAI;AACjC,8BAA6B,IAAI;AACjC;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;AClDA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,E","file":"index.js","sourcesContent":["var Pikaday = require('pikaday');\nvar moment = require('moment');\nvar util = require('./util');\n\nwindow.addEventListener('load', function() {\n  var calendar = document.getElementById('calendar');\n  var lastDate = new Date(calendar.getAttribute('data-last-date'));\n  var firstDate = new Date(calendar.getAttribute('data-first-date'));\n\n  var picker = new Pikaday({\n    onSelect: function(date) {\n      var time = moment(date);\n      window.location.href += time.format('YYYY/MM/YYYY-MM-DD') + '.html';\n      // a bug of pikaday whose fix is still not released\n    },\n    i18n: {\n        previousMonth : '&lt;&lt;',\n        nextMonth     : '&gt;&gt;',\n        months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\n        weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\n        weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\n    },\n    minDate: firstDate,\n    maxDate: lastDate\n  });\n\n  calendar.appendChild(picker.el);\n\n  var buttons = picker.el.getElementsByTagName('button');\n  // var lastButton = getButtonByDate(buttons, lastDate);\n  // util.addClass(lastButton.parentNode, 'last-update');\n\n  document.querySelector('.pika-prev').textContent = '<<';\n  document.querySelector('.pika-next').textContent = '>>';\n});\n\nfunction getButtonByDate(buttons, date) {\n  var year, month, day;\n  var targetYear = date.getFullYear(),\n      targetMonth = date.getMonth(),\n      targetDay = date.getDate();\n  for (var i = 0; i < buttons.length; ++i) {\n    year = parseInt(buttons[i].getAttribute('data-pika-year'));\n    month = parseInt(buttons[i].getAttribute('data-pika-month'));\n    day = parseInt(buttons[i].getAttribute('data-pika-day'));\n    if (year === targetYear && month === targetMonth\n        && day === targetDay) {\n      return buttons[i];\n    }\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/index.js\n ** module id = 0\n ** module chunks = 0\n **/","function hasClass(element, className) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  } else {\n    var reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)', 'g');\n    return !!element.className.match(reg);\n  }\n}\n\nfunction addClass(element, className) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else if (!hasClass(element, className)) {\n    element.className += \" \" + className;\n  }\n}\n\nfunction removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (hasClass(element, className)) {\n    var reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)', 'g');\n    element.className = element.className.replace(reg, ' ');\n  }\n}\n\nmodule.exports = {\n  hasClass: hasClass,\n  addClass: addClass,\n  removeClass: removeClass\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/js/util.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}